apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Define resources to be applied in one command
resources:
#- manifests/namespace.yaml
- manifests/service-account.yaml
- manifests/configmap.yaml
- manifests/deployment.yaml
- manifests/service.yaml
- manifests/route.yaml

# ConfigMap Generator for Vault Config
configMapGenerator:
- files:
  - config/vault-config.hcl
  name: vault-config
  namespace: vault

# Label all resources for easier management
labels:
- includeSelectors: true
  pairs:
    app: vault
